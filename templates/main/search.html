{% extends 'base.html' %}
{% load static el_pagination_tags main_extras mfilters %}

{% paginate entries %}
{% for entry in entries %}
    {% block content %}
        {% if cartridge_result or error_result or all_result %}
            <div class="search_results card-model">
                {% if cartridge_result %}
                    {% for cartridge in cartridge_result %}
                        <div class="supplie_result">
                            <div class="image">
                                <img src="{{ MEDIA_URL }}no_image.svg" style="width: 100%;">
                            </div>
                            <div class="desc">
                                <div class="desc-inner">
                                    <p>
                                        <a href="{% if cartridge.0 %}/supplies/{{ cartridge.0 }}{% endif %}" class="text-blue">
                                            <span class="text-green pr-2">{{ cartridge.2 }}</span>
                                            {% if cartridge.3 %}
                                                {{ cartridge.3 }}
                                            {% elif cartridge.4 %}
                                                {{ cartridge.4 }}
                                            {% endif %}
                                            {% if cartridge.7 %}
                                                {{ cartridge.7 }}
                                            {% endif %}
                                        </a>
                                    </p>
                                    <p>
                                        {% if cartridge.6 %}
                                            {{ cartridge.6 }}
                                        {% endif %}
                                    </p>
                                    {% if cartridge.8 %}
                                        <div class="search_result_price">
                                            <span class="text-grey">{% if lang == 'ru' %}Ориентировочная цена
                                            {% else %}Estimated price{% endif %}:</span>
                                            <span class="text-magenta">{{ cartridge.8|d_mask }} &#x20bd;</span>
                                            <!--small>({{ cartridge.9 }})</small-->
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
                {% if error_result %}
                    {% for index in error_result %}
                        <div class="error_result">
                            <div class="image">
                                {% if index.7 %}
                                    <img src="{{ index.7 }}">
                                {% else %}
                                    <img src="{{ MEDIA_URL }}no_image.svg" style="width: 100%;">
                                {% endif %}
                            </div>
                            <div class="desc">
                                <div class="desc-inner">
                                    <p>
                                        Error: <strong class="text-blue">{{ index.2 }}</strong>
                                    </p>
                                    {% if index.8 %}
                                        <div class="models">
                                            <p>Models:
                                                <a href="#" id="error_result_models_show"
                                                   aria-label="models-inner{{ forloop.counter0 }}">show models</a>
                                            </p>
                                            <p id="models-inner{{ forloop.counter0 }}" style="display: none;">
                                                {% for m in index.8 %}
                                                    <a href="/model/{{ m }}">{{ index.9|list_item:forloop.counter0 }}</a>
                                                {% endfor %}
                                            </p>
                                        </div>
                                    {% endif %}
                                    {% if index.3 %}<p>Display: <strong>{{ index.3 }}</strong></p>{% endif %}
                                    {% if index.4 %}<p>Description: <strong>{{ index.4 }}</strong></p>{% endif %}
                                    {% if index.5 %}<p>Causes: <strong>{{ index.5 }}</strong></p>{% endif %}
                                    {% if index.6 %}<p>Remedy: <strong>{{ index.6 }}</strong></p>{% endif %}
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
                {% if all_result %}
                    {% for index in all_result %}
                        <div class="search_result">
                            <div class="image">
                                {% if index.11 %}
                                    <img src="{{ MEDIA_URL }}{{ index.11 }}">
                                {% elif index.10 and index.5 is None %}
                                    <img src="{{ MEDIA_URL }}{{ index.10 }}">
                                {% elif index.9 %}
                                    <img src="{{ MEDIA_URL }}{{ index.9 }}">
                                {% else %}
                                    <img src="{{ MEDIA_URL }}no_image.svg" style="width: 100%;">
                                {% endif %}
                            </div>
                            <div class="desc">
                                <div class="desc-inner">
                                    {% if index.3 == index.7 %}
                                        <h2><a href="/model/{{ index.12 }}" class="text-blue">{{ index.7 }}</a></h2>
                                    {% else %}
                                        {% if index.4 or index.3 %}
                                            <h2><a href="/detail/{{ index.2 }}" class="text-blue">
                                                {% if index.4 %}{{ index.4 }}{% elif index.3 %}
                                                    {{ index.3 }}{% endif %}</a></h2>
                                        {% endif %}
                                    {% endif %}
                                    <div class="rating">
                                        Rating
                                        <div class="stars">
                                            <img src="{{ MEDIA_URL }}icons/star.svg">
                                            <img src="{{ MEDIA_URL }}icons/star_o.svg">
                                            <img src="{{ MEDIA_URL }}icons/star_o.svg">
                                            <img src="{{ MEDIA_URL }}icons/star_o.svg">
                                            <img src="{{ MEDIA_URL }}icons/star_o.svg">
                                        </div>
                                    </div>
                                    <div class="search_result_partcode">
                                        {% if index.5 != None %}
                                            <span class="text-yellow">Part code: {{ index.5 }}</span>
                                        {% endif %}
                                    </div>
                                    {% if index.3 != index.7 %}
                                        <div class="search_result_model">
                                            {{ index.7 }}
                                        </div>
                                    {% endif %}
                                    {% if index.13 %}
                                        <div class="search_result_price">
                                            <span class="text-grey">{% if lang == 'ru' %}Ориентировочная цена
                                            {% else %}Estimated price{% endif %}:</span>
                                            <span class="text-magenta">{{ index.13|d_mask }} &#x20bd;</span>
                                            <!--small>({{ index.14 }})</small-->
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
        {% else %}
            <div class="not_found">
                <img src="{{ MEDIA_URL }}icons/not_found.svg" alt="not found">
                <h3>Not found...</h3>
            </div>
        {% endif %}
    {% endblock %}
{% endfor %}
{% show_pages %}
{% block title %}
    Part4
{% endblock %}

{% block breadcrumbs %}

{% endblock %}